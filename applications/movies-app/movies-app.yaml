kind: application
inputs:
- AZURE_VM_SIZE: Basic_A1
- AWS_INSTANCE_TYPE: t2.micro
infrastructure:
  connectivity:
    external:
    - web:
        port: 80
        path: ''
    - api:
        port: 7000
        path: ''
  compute:
    spec:        
      aws:
        instance_type: t2.micro
      kubernetes:
        cpu: 250m
        ram: 64Mi
configuration:
  start:
    script: movies-app-command.sh
  initialization:
    script: movies-app.sh
  healthcheck:
    timeout: 1000
    script: movies-app-hc.sh
source:
  image:    
    username: adminuser
    ami:
      - id: ami-0213344887e47003a
        region: eu-west-1
        username: ubuntu
    docker_image:
       - name: colonysamples/movies-app-ui
         tag: latest
         username: root
    
  os_type: linux
spec_version: 1
debugging:
  allow_direct_access: true
  connection_protocol: SSH